

# Node å¯åŠ¨ Dockeræ³¨æ„âš ï¸

[docker-node/BestPractices.md at main Â· nodejs/docker-node (github.com)](https://github.com/nodejs/docker-node/blob/main/docs/BestPractices.md#handling-kernel-signals)



**å‰ç«¯å…³æ³¨**

![image-20210804232347809](http://cdn.wangdaoo.com/image-20210804232347809.png)



â€¼ï¸**ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨`CMD ['node', 'app.js']` ä½œä¸ºé»˜è®¤å¯åŠ¨**



**è¿™ä¸ªé—®é¢˜æ¶‰åŠ `Linux` è¿è¡Œæœºåˆ¶ï¼Œç®€å•çš„è¯´ï¼Œå°±æ˜¯ `Linux PI` ä¸º 1 çš„è¿›ç¨‹æ˜¯ç³»ç»Ÿå®ˆæŠ¤çš„è¿›ç¨‹ï¼Œå°†ä¼šæ¥å—æ‰€æœ‰å­¤å„¿è¿›ç¨‹ã€‚å¹¶ä¸”åœ¨é€‚å½“çš„æ—¶å€™å‘é€å…³é—­ä¿¡å·ç»™è¿™äº›è¿›ç¨‹**



**ä½†æ˜¯ï¼Œ`Docker` ä¸­ `PID 1 `çš„è¿›ç¨‹ä¸º `Node`ï¼Œè€Œ `Node` å¹¶æ²¡æœ‰åšå›æ”¶å­¤å„¿è¿›ç¨‹çš„äº‹æƒ…ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„åº”ç”¨è·‘çš„ç±»ä¼¼çˆ¬è™«ä¹‹ç±»çš„åº”ç”¨ï¼Œæ‰§è¡Œå®Œæ¯•ä¹‹åå°†è¿›ç¨‹æŒ‚åˆ° `PID 1` ä¸Šï¼Œæ…¢æ…¢çš„å®¹å™¨å°±ä¼š BOOM ğŸ’¥**



## è§£å†³



1. **ç”¨ `/bin/bash` å¯åŠ¨**
2. **åœ¨ `docker run ` åé¢è¿½åŠ  `--init` ç”¨äºåˆå§‹åŒ–ä¸€ä¸ª `docker` è¿›ç¨‹ä¸º `PID 1` ã€‚docker æä¾›çš„è¿›ç¨‹å¯ä»¥å›æ”¶æ‰€æœ‰å­¤å„¿è¿›ç¨‹**

```bash
docker run -it --init node
```


